{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Cell","selected","letter","className","ControlButton","kind","onClick","Controller","onLeft","onRight","onUp","onDown","onCenter","LETTERS","split","DisplayText","text","MODES","App","props","onKeyDown","e","code","action","backspace","console","log","moveDelta","state","letters","selectedRow","selectedCol","inputText","mode","this","map","row","rowIdx","colIdx","colSelected","rowSelected","cellSelected","document","addEventListener","removeEventListener","setState","stateUpdate","currentLetter","length","substring","dCol","dRow","maxRow","maxCol","Math","min","max","renderLetters","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a618a679.chunk.js","sourcesContent":["import \"./App.css\";\nimport React from \"react\";\n\nfunction Cell({selected, letter}) {\n  return (\n    <div\n      className={\n        selected\n          ? \"letters-cell letters-cell-selected\"\n          : \"letters-cell\"\n      }\n    >\n      {letter}\n    </div>\n  );\n\n}\n\nfunction ControlButton({kind, onClick, letter}) {\n  return (\n    <div className={`control-button control-button-${kind}`}>\n      <button className=\"control-button-inner\" onClick={onClick}>{letter}</button>\n    </div>\n  );\n}\n\nfunction Controller({onLeft, onRight, onUp, onDown, onCenter}) {\n  return (\n    <div className=\"controller\">\n      <ControlButton kind=\"left\" letter=\"L\" onClick={onLeft} />\n      <ControlButton kind=\"right\" letter=\"R\" onClick={onRight} />\n      <ControlButton kind=\"up\" letter=\"U\" onClick={onUp} />\n      <ControlButton kind=\"down\" letter=\"D\" onClick={onDown} />\n      <ControlButton kind=\"center\" letter=\"O\" onClick={onCenter} />\n    </div>\n  );\n}\n\nconst LETTERS = [\n  \"АБВГД\".split(\"\"),\n  \"ЕЁЖЗИ\".split(\"\"),\n  \"ЙКЛМН\".split(\"\"),\n  \"ОПРСТ\".split(\"\"),\n  \"УФХЦЧ\".split(\"\"),\n  \"ШЩЪЫЬ\".split(\"\"),\n  \"ЭЮЯ.,\".split(\"\"),\n];\n\nfunction DisplayText({text}) {\n  return <div className=\"display-text\">{text}</div>;\n}\n\nconst MODES = {\n  SELECTING_ROW: \"SELECTING_ROW\",\n  SELECTING_COL: \"SELECTING_COL\",\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      letters: LETTERS,\n      selectedRow: 0,\n      selectedCol: 0,\n      inputText: \"\",\n      mode: MODES.SELECTING_ROW,\n    };\n  }\n\n  renderLetters() {\n    return this.state.letters.map((row, rowIdx) => {\n      return (\n        <div className={\"letters-row\"}>\n          {row.map((letter, colIdx) => {\n            const colSelected = this.state.selectedCol === colIdx;\n            const rowSelected = this.state.selectedRow === rowIdx;\n\n            let cellSelected = false;\n            if (this.state.mode === MODES.SELECTING_ROW) {\n              cellSelected = rowSelected;\n            } else {\n              cellSelected = rowSelected && colSelected;\n            }\n            return <Cell selected={cellSelected} letter={letter} />;\n          })}\n        </div>\n      );\n    });\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown = (e) => {\n    switch (e.code) {\n      case \"ArrowLeft\":\n        this.onLeft();\n        break;\n      case \"ArrowUp\":\n        this.onUp();\n        break;\n      case \"ArrowDown\":\n        this.onDown();\n        break;\n      case \"ArrowRight\":\n        this.onRight();\n        break;\n      case \"Enter\":\n        this.action();\n        break;\n      case \"Backspace\":\n        this.backspace();\n        break;\n      default:\n        console.log(`Handling key code=\"${e.code}\"`);\n    }\n  };\n\n  action() {\n    this.setState((state) => {\n      const mode =\n        state.mode === MODES.SELECTING_ROW\n          ? MODES.SELECTING_COL\n          : MODES.SELECTING_ROW;\n\n      let stateUpdate = { mode };\n\n      if (state.mode === MODES.SELECTING_COL) {\n        const currentLetter =\n          state.letters[state.selectedRow][state.selectedCol];\n        stateUpdate.inputText = state.inputText + currentLetter;\n        stateUpdate.selectedCol = 0;\n        stateUpdate.selectedRow = 0;\n      }\n\n      return stateUpdate;\n    });\n  }\n\n  finishWord() {\n    this.setState((state) => {\n      const inputText = state.inputText.length > 0 ? state.inputText + \" \" : \"\";\n      return {\n        inputText,\n        selectedCol: 0,\n        selectedRow: 0,\n      };\n    });\n  }\n\n  backspace() {\n    this.setState((state) => {\n      const inputText =\n        state.inputText.length > 0\n          ? state.inputText.substring(0, state.inputText.length - 1)\n          : \"\";\n      return {\n        inputText,\n      };\n    });\n  }\n\n  moveDelta(dCol, dRow) {\n    this.setState((state, props) => {\n      if (state.mode === MODES.SELECTING_COL && dRow !== 0) {\n        return {\n          mode: MODES.SELECTING_ROW,\n          selectedCol: 0,\n        };\n      }\n      if (state.mode === MODES.SELECTING_COL) {\n        dRow = 0;\n      } else {\n        dCol = 0;\n      }\n      const maxRow = state.letters.length - 1;\n      const maxCol = state.letters[state.selectedRow].length - 1;\n      const tryCol = Math.min(Math.max(0, state.selectedCol + dCol), maxCol);\n      const tryRow = Math.min(Math.max(0, state.selectedRow + dRow), maxRow);\n      return {\n        selectedCol: tryCol,\n        selectedRow: tryRow,\n      };\n    });\n  }\n\n  onLeft = () => {\n    this.moveDelta(-1, 0);\n  }\n\n  onRight = () => {\n    this.moveDelta(1, 0);\n  }\n\n  onUp = () => {\n    this.moveDelta(0, -1);\n  }\n\n  onDown = () => {\n    this.moveDelta(0, 1);\n  }\n\n  onCenter = () => {\n    this.action();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"letters-container\">{this.renderLetters()}</div>\n        <DisplayText text={this.state.inputText} />\n        <Controller onLeft={this.onLeft} onRight={this.onRight} onCenter={this.onCenter} onUp={this.onUp} onDown={this.onDown} />\n        <div>\n          Current row={this.state.selectedRow}, col={this.state.selectedCol}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}